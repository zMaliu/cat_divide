<!--pages/home/home.wxml-->

<view class="home-container">
  <view class="navbar">
    <text class="tab {{currentTab === 'follow' ? 'selected' : ''}}" data-tab="follow" bindtap="switchTab">关注</text>
    <text class="tab {{currentTab === 'hot' ? 'selected' : ''}}" data-tab="hot" bindtap="switchTab">热点</text>
    <text class="tab {{currentTab === 'nearby' ? 'selected' : ''}}" data-tab="nearby" bindtap="switchTab">附近</text>
    <!-- 搜索框布局start-->
    <view class="search-icon-box">
      <image class="search-icon" src="/assets/sreach.png" mode="aspectFit" bindtap="goSearch"/>
    </view>
    <!-- 搜索框布局end -->
  </view>

  <!-- 关注页面 -->
  <view class="page-content" hidden="{{currentTab !== 'follow'}}">
    <scroll-view scroll-y="true" class="waterfall">
      <view class="masonry">
        <block wx:for="{{followPosts}}" wx:key="id">
          <view class="post-card" bindtap="goDetail" data-post="{{item}}">
            <image src="{{item.img}}" class="post-img" mode="widthFix"/>
            <view class="post-title">{{item.title}}</view>
            <view class="post-desc">{{item.desc}}</view>
            <view class="post-footer">
              <image src="{{item.avatar}}" class="footer-avatar"/>
              <text class="footer-nickname">{{item.nickname}}</text>
              <view class="footer-like">
                <text class="like-icon">❤️</text>
                <text class="like-count">{{item.likeCount}}</text>
              </view>
            </view>
          </view>
        </block>
      </view>
    </scroll-view>
  </view>

  <!-- 热点页面 -->
  <view class="page-content" hidden="{{currentTab !== 'hot'}}">
    <scroll-view scroll-y="true" class="waterfall">
      <view class="masonry">
        <block wx:for="{{posts}}" wx:key="id">
          <view class="post-card" bindtap="goDetail" data-post="{{item}}">
            <image src="{{item.img}}" class="post-img" mode="widthFix"/>
            <view class="post-title">{{item.title}}</view>
            <view class="post-desc">{{item.desc}}</view>
            <view class="post-footer">
              <image src="{{item.avatar}}" class="footer-avatar"/>
              <text class="footer-nickname">{{item.nickname}}</text>
              <view class="footer-like">
                <text class="like-icon">❤️</text>
                <text class="like-count">{{item.likeCount}}</text>
              </view>
            </view>
          </view>
        </block>
      </view>
    </scroll-view>
  </view>

  <!-- 附近页面 -->
  <view class="page-content" hidden="{{currentTab !== 'nearby'}}">
      <scroll-view scroll-y="true" class="waterfall">
        <view class="masonry">
          <block wx:for="{{nearbyPosts}}" wx:key="id">
            <view class="post-card" bindtap="goDetail" data-post="{{item}}">
              <image src="{{item.img}}" class="post-img" mode="widthFix"/>
              <view class="post-title">{{item.title}}</view>
              <view class="post-desc">{{item.desc}}</view>
              <view class="post-footer">
                <image src="{{item.avatar}}" class="footer-avatar"/>
                <text class="footer-nickname">{{item.nickname}}</text>
                <view class="footer-like">
                  <text class="like-icon">❤️</text>
                  <text class="like-count">{{item.likeCount}}</text>
                </view>
              </view>
            </view>
          </block>
        </view>
      </scroll-view>
    </view>
</view>
  

 


<!-- <text>pages/home/home.wxml</text> -->

