<!--pages/postDetail/postDetail.wxml-->

<view class="detail-container">
  <view class="detail-header">
    <image src="{{post.avatar}}" class="avatar"/>
    <view class="nickname">{{post.nickname}}</view>
    <view class="header-actions">
      <view class="follow-btn" bindtap="onFollow">{{isFollowed ? 'å·²å…³æ³¨' : 'å…³æ³¨'}}</view>
      <view class="share-btn" bindtap="onShare">åˆ†äº«</view>
    </view>
  </view>
  <view class="detail-title">{{post.title}}</view>
  <image src="{{post.img}}" class="detail-img"/>
  <view class="detail-content">{{post.content}}</view>
  <view class="detail-tags">
    <block wx:for="{{post.tags}}" wx:key="*this">
      <text class="tag">#{{item}}</text>
    </block>
  </view>
  <!-- è¯„è®ºåŒºå±•ç¤º -->
  <view class="comment-section">
    <view class="comment-title">è¯„è®º</view>
    <block wx:if="{{comments.length > 0}}">
      <block wx:for="{{comments}}" wx:key="id">
        <view class="comment-item">
          <image src="{{item.avatar}}" class="comment-avatar"/>
          <view class="comment-content">
            <view class="comment-nickname">{{item.nickname}}</view>
            <view class="comment-text">{{item.text}}</view>
          </view>
        </view>
      </block>
    </block>
    <block wx:else>
      <view class="no-comment">è¿˜æ²¡æœ‰è¯„è®ºï¼Œå¿«æ¥æŠ¢æ²™å‘å§ï¼</view>
    </block>
  </view>
  <!-- è¯„è®ºè¾“å…¥æ¡†å’Œå‘é€æŒ‰é’® -->
  <view class="detail-bottom">
    <input
      class="comment-input"
      placeholder="è¯´ç‚¹ä»€ä¹ˆ..."
      value="{{inputValue}}"
      bindinput="onInput"
      confirm-type="send"
      bindconfirm="onSendComment"
    />
    <view class="bottom-btns">
      <view class="icon-btn" bindtap="onLike">
        <text style="color:{{isLiked ? '#FF2D55' : '#111'}}">â¤ï¸</text>
        <text>{{likeCount}}</text>
      </view>
      <view class="icon-btn" bindtap="onStar">
        <text style="color:{{isStarred ? '#FF2D55' : '#111'}}">â­</text>
        <text>{{starCount}}</text>
      </view>
      <view class="icon-btn">
        <text>ğŸ’¬</text>
        <text>{{commentCount}}</text>
      </view>
    </view>
  </view>
</view>





<!-- <text>pages/postDetail/postDetail.wxml</text> -->